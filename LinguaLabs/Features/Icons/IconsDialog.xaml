<ContentDialog
    x:Class="LinguaLabs.Features.Icons.IconsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:LinguaLabs.Features.Icons"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DataContext="{d:DesignInstance Type=local:IconsModel, IsDesignTimeCreatable=True}"
    d:DesignWidth="400">

    <ContentDialog.Resources>
        <!-- Define styles for the icon picker -->
        <Style x:Key="SearchBoxStyle" TargetType="TextBox">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="Background" Value="#F8F6F4"/>
            <Setter Property="BorderBrush" Value="#D4C8B8"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="8"/>
        </Style>

        <Style x:Key="CategoryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="#D4C8B8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#4A4A4A"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Margin" Value="4,2"/>
            <Setter Property="CornerRadius" Value="15"/>
        </Style>

        <Style x:Key="SelectedCategoryButtonStyle" TargetType="Button" BasedOn="{StaticResource CategoryButtonStyle}">
            <Setter Property="Background" Value="#A8D5E2"/>
            <Setter Property="BorderBrush" Value="#7BC3D4"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
        </Style>

        <Style x:Key="IconButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="#E8E2D9"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="CornerRadius" Value="8"/>
        </Style>

        <Style x:Key="SelectedIconButtonStyle" TargetType="Button" BasedOn="{StaticResource IconButtonStyle}">
            <Setter Property="Background" Value="#A8D5E2"/>
            <Setter Property="BorderBrush" Value="#7BC3D4"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>

        <Style x:Key="HeaderTextStyle" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
        </Style>

        <Style x:Key="SubHeaderTextStyle" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#7F8C8D"/>
        </Style>
    </ContentDialog.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="20,20,20,15">
            <TextBlock Text="Choose an Icon" Style="{StaticResource HeaderTextStyle}"/>
            <TextBlock Text="Search from thousands of icons or browse by category" Style="{StaticResource SubHeaderTextStyle}" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Search Bar -->
        <Grid Grid.Row="1" Margin="20,0,20,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBox Grid.Column="0" 
                     Name="SearchTextBox" 
                     Style="{StaticResource SearchBoxStyle}"
                     PlaceholderText="Search icons... (e.g., fish, animal, food)"/>

            <Button Grid.Column="1" 
                    Background="#A8D5E2" 
                    BorderBrush="#7BC3D4" 
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="15,12"
                    Margin="10,0,0,0">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="🔍" FontSize="16" Margin="0,0,5,0"/>
                    <TextBlock Text="Search" FontSize="14" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
        </Grid>

        <!-- Category Filter -->
        <ScrollViewer Grid.Row="2" 
                      HorizontalScrollBarVisibility="Auto" 
                      VerticalScrollBarVisibility="Disabled"
                      Margin="20,0,20,15">
            <StackPanel Orientation="Horizontal" Name="CategoryPanel">
                <Button Content="All" Style="{StaticResource SelectedCategoryButtonStyle}" Name="AllCategoryButton" />
                <Button Content="Animals" Style="{StaticResource CategoryButtonStyle}" Name="AnimalsCategoryButton" />
                <Button Content="Food" Style="{StaticResource CategoryButtonStyle}" Name="FoodCategoryButton"/>
                <Button Content="Nature" Style="{StaticResource CategoryButtonStyle}" Name="NatureCategoryButton" />
                <Button Content="Objects" Style="{StaticResource CategoryButtonStyle}" Name="ObjectsCategoryButton" />
                <Button Content="People" Style="{StaticResource CategoryButtonStyle}" Name="PeopleCategoryButton"/>
                <Button Content="Transportation" Style="{StaticResource CategoryButtonStyle}" Name="TransportCategoryButton" />
                <Button Content="Education" Style="{StaticResource CategoryButtonStyle}" Name="EducationCategoryButton" />
                <Button Content="Sports" Style="{StaticResource CategoryButtonStyle}" Name="SportsCategoryButton" />
                <Button Content="Technology" Style="{StaticResource CategoryButtonStyle}" Name="TechCategoryButton" />
            </StackPanel>
        </ScrollViewer>

        <!-- Icon Grid -->
        <ScrollViewer Grid.Row="3" 
                      Margin="20,0,20,15"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <StackPanel Name="IconGridContainer">
                <!-- Loading State -->
                <StackPanel Name="LoadingPanel" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,50">
                    <ProgressRing Width="40" Height="40" IsActive="True"/>
                    <TextBlock Text="Loading icons..." Style="{StaticResource SubHeaderTextStyle}" HorizontalAlignment="Center" Margin="0,15,0,0"/>
                </StackPanel>

                <!-- No Results State -->
                <StackPanel Name="NoResultsPanel" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,50" Visibility="Collapsed">
                    <TextBlock Text="🔍" FontSize="48" HorizontalAlignment="Center" Opacity="0.5"/>
                    <TextBlock Text="No icons found" Style="{StaticResource HeaderTextStyle}" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                    <TextBlock Text="Try different keywords or browse categories" Style="{StaticResource SubHeaderTextStyle}" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

        <!-- Selection Footer -->
        <Border Grid.Row="4" 
                Background="#F8F6F4" 
                BorderBrush="#E8E2D9" 
                BorderThickness="0,2,0,0" 
                Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Selected Icon Preview -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Border Name="SelectedIconPreview" 
                            Width="40" 
                            Height="40" 
                            Background="#A8D5E2"
                            BorderBrush="#7BC3D4"
                            BorderThickness="2"
                            CornerRadius="8"
                            Margin="0,0,15,0"
                            Visibility="Collapsed">
                        <TextBlock Name="SelectedIconDisplay" 
                                   FontSize="24" 
                                   HorizontalAlignment="Center" 
                                   VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Name="SelectedIconName" 
                                   Text="No icon selected" 
                                   Style="{StaticResource SubHeaderTextStyle}"/>
                        <TextBlock Name="SelectedIconInfo" 
                                   Text="Select an icon above" 
                                   FontSize="12" 
                                   Foreground="#BDC3C7"/>
                    </StackPanel>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button Content="Cancel" 
                            Background="Transparent"
                            BorderBrush="#D4C8B8"
                            BorderThickness="2"
                            CornerRadius="8"
                            Padding="20,10"
                            Margin="0,0,10,0"/>

                    <Button Name="SelectButton"
                            Content="Select Icon" 
                            Background="#A8D5E2"
                            BorderBrush="#7BC3D4"
                            BorderThickness="2"
                            CornerRadius="8"
                            Padding="20,10"
                            IsEnabled="False"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</ContentDialog>
